#!/usr/bin/env node
"use strict";

var _commander = require("commander");

var _commander2 = _interopRequireDefault(_commander);

var _ = require("./");

var _package = require("../package.json");

var _fs = require("fs");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_commander2.default.version(_package.version).option("-e, --string", "read arguments as strings instead of files").parse(process.argv);

if (!_commander2.default.args.length) {
    var stdin = process.openStdin();
    var input = "";

    stdin.on("data", function (chunk) {
        input += chunk;
    });

    stdin.on("end", function () {
        process.stdout.write((0, _.spongeMock)(input));
        process.stdout.write("\n");
    });
} else {
    _commander2.default.args.forEach(function (str) {
        if (_commander2.default.string) {
            process.stdout.write((0, _.spongeMock)(str));
        } else {
            process.stdout.write((0, _.spongeMock)((0, _fs.readFileSync)(str, "utf8")));
        }
    });

    process.stdout.write("\n");
}